import streamlit as st
import numpy as np
import matplotlib.pyplot as plt

# -----------------------------
# ğŸ§  ì•± ì œëª©
# -----------------------------
st.set_page_config(page_title="ì´ì°¨í•¨ìˆ˜ í•™ìŠµ ì•±", page_icon="ğŸ“ˆ")
st.title("ğŸ“ˆ ì´ì°¨í•¨ìˆ˜ ì‹œê°í™” ì•±")
st.write("ì´ì°¨í•¨ìˆ˜ì˜ ì¼ë°˜í˜• **y = a(x - p)Â² + q** ì—ì„œ a, p, q ê°’ì„ ì¡°ì ˆí•´ ê·¸ë˜í”„ê°€ ì–´ë–»ê²Œ ë³€í•˜ëŠ”ì§€ í™•ì¸í•´ë³´ì„¸ìš”!")

# -----------------------------
# ğŸšï¸ ìŠ¬ë¼ì´ë”ë¡œ ë§¤ê°œë³€ìˆ˜ ì¡°ì ˆ
# -----------------------------
st.sidebar.header("âš™ï¸ ë§¤ê°œë³€ìˆ˜ ì„¤ì •")

a = st.sidebar.slider("a (ê·¸ë˜í”„ì˜ ë°©í–¥ ë° í­)", -5.0, 5.0, 1.0, step=0.1)
p = st.sidebar.slider("p (ì¢Œìš° ì´ë™)", -10.0, 10.0, 0.0, step=0.1)
q = st.sidebar.slider("q (ìƒí•˜ ì´ë™)", -10.0, 10.0, 0.0, step=0.1)

# -----------------------------
# ğŸ“Š ê·¸ë˜í”„ ê³„ì‚°
# -----------------------------
x = np.linspace(-10, 10, 400)
y = a * (x - p) ** 2 + q

# -----------------------------
# ğŸ¨ ê·¸ë˜í”„ ê·¸ë¦¬ê¸°
# -----------------------------
fig, ax = plt.subplots(figsize=(6, 4))
ax.plot(x, y, color="dodgerblue", linewidth=2, label=f"y = {a:.1f}(x - {p:.1f})Â² + {q:.1f}")
ax.axhline(0, color="gray", linewidth=0.8)
ax.axvline(0, color="gray", linewidth=0.8)
ax.scatter(p, q, color="red", label="ê¼­ì§“ì  (p, q)")
ax.legend()
ax.grid(True, linestyle="--", alpha=0.6)
ax.set_xlabel("x")
ax.set_ylabel("y")
ax.set_title("ì´ì°¨í•¨ìˆ˜ ê·¸ë˜í”„")

st.pyplot(fig)

# -----------------------------
# ğŸ§© ìˆ˜ì‹ ì„¤ëª…
# -----------------------------
st.markdown("""
### ğŸ§® ê·¸ë˜í”„ í•´ì„
- **a** ê°’ì´ ì–‘ìˆ˜ë©´ ìœ„ë¡œ ì—´ë¦° í¬ë¬¼ì„ , ìŒìˆ˜ë©´ ì•„ë˜ë¡œ ì—´ë¦° í¬ë¬¼ì„ ì…ë‹ˆë‹¤.  
- **|a|** ê°’ì´ ì»¤ì§ˆìˆ˜ë¡ ê·¸ë˜í”„ê°€ **ì¢ì•„ì§€ê³ **, ì‘ì•„ì§ˆìˆ˜ë¡ **ë„“ì–´ì§‘ë‹ˆë‹¤.**  
- **p** ê°’ì€ ê·¸ë˜í”„ë¥¼ **ì¢Œìš°ë¡œ ì´ë™**ì‹œí‚µë‹ˆë‹¤.  
- **q** ê°’ì€ ê·¸ë˜í”„ë¥¼ **ìœ„ì•„ë˜ë¡œ ì´ë™**ì‹œí‚µë‹ˆë‹¤.  
- ê¼­ì§“ì ì€ í•­ìƒ **(p, q)** ì— ìˆìŠµë‹ˆë‹¤.
""")
